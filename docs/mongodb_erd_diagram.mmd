erDiagram
    PRODUCTS {
        ObjectId _id PK
        string asin UK "Unique identifier"
        string title
        string brand
        string source_category
        string category
        decimal current_price
        decimal current_sales_rank
        decimal rating
        int review_count
        string description
        array features
        datetime created_at
        datetime updated_at
    }
    
    PRICE_HISTORY_ENTRY {
        datetime date
        decimal price_usd
        string source_category "Denormalized"
        string brand "Denormalized"
        string price_bucket
        int offer_count
    }
    
    SALES_RANK_HISTORY_ENTRY {
        datetime date
        decimal sales_rank
        string source_category "Denormalized"
        string brand "Denormalized"
        string rank_bucket
        int review_count
        decimal average_rating
    }
    
    PRODUCTS ||--o{ PRICE_HISTORY_ENTRY : "embeds (1:N)"
    PRODUCTS ||--o{ SALES_RANK_HISTORY_ENTRY : "embeds (1:N)"

